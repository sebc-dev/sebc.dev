---
phase: 01-foundation
plan: 03
type: execute
wave: 3
depends_on: ["01-02"]
files_modified:
  - src/layouts/BaseLayout.astro
  - src/pages/en/index.astro
  - src/pages/fr/index.astro
  - src/pages/en/about.astro
  - src/pages/en/search.astro
  - src/pages/fr/about.astro
  - src/pages/fr/search.astro
  - src/pages/404.astro
autonomous: false

must_haves:
  truths:
    - "User sees sticky header with navigation and language switcher on every page"
    - "User sees footer with social links and glow-line on every page"
    - "User can navigate to /en/, /fr/, /en/about, /fr/about, /en/search, /fr/search"
    - "User can switch language and land on the equivalent page in the other locale"
    - "User sees fade-up scroll-reveal animations on sections"
    - "Visiting a non-existent URL shows a 404 page"
    - "All pages are responsive from 375px to desktop"
  artifacts:
    - path: "src/layouts/BaseLayout.astro"
      provides: "Page shell with Header, Footer, and scroll-reveal script"
      contains: "Header"
    - path: "src/pages/en/about.astro"
      provides: "English About placeholder page"
    - path: "src/pages/fr/about.astro"
      provides: "French About placeholder page"
    - path: "src/pages/en/search.astro"
      provides: "English Search placeholder page"
    - path: "src/pages/fr/search.astro"
      provides: "French Search placeholder page"
    - path: "src/pages/404.astro"
      provides: "Root 404 fallback page"
  key_links:
    - from: "src/layouts/BaseLayout.astro"
      to: "src/components/layout/Header.astro"
      via: "import Header"
      pattern: "import Header"
    - from: "src/layouts/BaseLayout.astro"
      to: "src/components/layout/Footer.astro"
      via: "import Footer"
      pattern: "import Footer"
    - from: "src/pages/en/about.astro"
      to: "src/layouts/BaseLayout.astro"
      via: "import BaseLayout"
      pattern: "import BaseLayout"
    - from: "src/pages/404.astro"
      to: "src/layouts/BaseLayout.astro"
      via: "import BaseLayout"
      pattern: "import BaseLayout"
---

<objective>
Integrate Header and Footer into BaseLayout, create placeholder pages for all routes, add the root 404 page, and update the scroll-reveal script for View Transitions readiness. Verify the complete layout shell visually.

Purpose: This plan wires everything together into a working site shell. After this, every page has a consistent header, footer, navigation, and language switching. The site has all route placeholders needed for navigation to work.

Output: A fully navigable site shell with header, footer, i18n, placeholder pages, and 404 handling.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
@.planning/phases/01-foundation/01-02-SUMMARY.md
@src/layouts/BaseLayout.astro
@src/pages/en/index.astro
@src/pages/fr/index.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Integrate layout shell into BaseLayout and update pages</name>
  <files>src/layouts/BaseLayout.astro, src/pages/en/index.astro, src/pages/fr/index.astro, src/pages/en/about.astro, src/pages/en/search.astro, src/pages/fr/about.astro, src/pages/fr/search.astro, src/pages/404.astro</files>
  <action>
**src/layouts/BaseLayout.astro -- Major update:**
- Import Header from `@/components/layout/Header.astro`
- Import Footer from `@/components/layout/Footer.astro`
- Keep existing Props interface (title, description)
- Keep existing head content (meta, fonts, sitemap link)
- Update body structure to:
  ```html
  <body class="bg-canvas text-text-primary font-body leading-relaxed min-h-screen flex flex-col">
    <Header />
    <main class="flex-1">
      <slot />
    </main>
    <Footer />
    <!-- scroll-reveal script -->
  </body>
  ```
- Add `min-h-screen flex flex-col` to body for footer-to-bottom layout
- Add `flex-1` to main so it pushes footer down
- Update the scroll-reveal `<script>` for View Transitions readiness:
  ```html
  <script>
    function initScrollReveal() {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("in-view");
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.1, rootMargin: "0px 0px -50px 0px" },
      );
      document
        .querySelectorAll(".fade-up:not(.in-view), .section-title:not(.in-view)")
        .forEach((el) => observer.observe(el));
    }
    document.addEventListener("astro:page-load", initScrollReveal);
  </script>
  ```
  Key changes from current: wrapped in named function, `astro:page-load` event listener (fires on first load AND after View Transitions), `observer.unobserve()` after animation, `:not(.in-view)` selector to prevent re-animation.

**src/pages/en/index.astro -- Update:**
- Keep using BaseLayout with current title/description
- Add `class="fade-up"` to the existing hero section so scroll-reveal works
- Content stays the same (will be replaced in Phase 2)

**src/pages/fr/index.astro -- Update:**
- Same as en/index.astro but with French content (already correct)
- Add `class="fade-up"` to the hero section

**src/pages/en/about.astro -- New placeholder:**
```astro
---
import BaseLayout from "@/layouts/BaseLayout.astro";
---
<BaseLayout title="About" description="About the author and blog philosophy">
  <section class="max-w-6xl mx-auto px-6 lg:px-8 py-16 fade-up">
    <h1 class="text-3xl md:text-5xl font-bold mb-6">About</h1>
    <p class="text-text-secondary text-lg max-w-2xl">
      Coming soon.
    </p>
  </section>
</BaseLayout>
```

**src/pages/fr/about.astro -- New placeholder:**
- Same structure, French title "A propos", description in French

**src/pages/en/search.astro -- New placeholder:**
- Title "Search", description about searching articles
- Same minimal structure as about placeholder

**src/pages/fr/search.astro -- New placeholder:**
- Title "Recherche", French description

**src/pages/404.astro -- New root fallback:**
- Import BaseLayout
- Render a centered 404 message with:
  - Large "404" heading (text-6xl font-bold)
  - "Page not found" message (text-text-secondary)
  - Link back to `/en` homepage (text-teal-bright with underline)
  - Use English since this is the root fallback for unprefixed URLs
  - Center content vertically: `py-32 text-center`

All placeholder pages must be minimal (under 15 lines of template). They exist solely so navigation links work and language switching has target pages.
  </action>
  <verify>
Run `npx astro build` to verify all pages build successfully.
Run `npx astro dev` and verify in browser:
- Visit http://localhost:4321/en/ -- header with logo, nav, lang switch visible; footer at bottom
- Visit http://localhost:4321/fr/ -- same layout, French labels in nav
- Click "About" in nav -- navigates to /en/about (or /fr/about)
- Click "EN"/"FR" toggle -- URL changes locale prefix, stays on same page type
- Visit http://localhost:4321/nonexistent -- shows 404 page
  </verify>
  <done>BaseLayout renders Header + Footer on every page. Six locale-prefixed pages exist (/en/, /fr/, /en/about, /fr/about, /en/search, /fr/search). Root 404.astro handles unknown URLs. Scroll-reveal script is View Transitions ready.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of layout shell</name>
  <what-built>
Complete site layout shell with sticky header (logo, navigation, language switcher), footer (description, social links, glow-line, copyright), placeholder pages for all routes, and scroll-reveal animations. All responsive and bilingual.
  </what-built>
  <how-to-verify>
1. Start dev server: `npx astro dev`
2. Visit http://localhost:4321/en/ in browser
3. Verify header:
   - Sticky at top with backdrop blur when scrolling
   - Shows >_ logo with "sebc.dev" text
   - Navigation links: Home, Search, About
   - "Home" link is highlighted (teal-bright color)
   - Language toggle shows EN/FR
4. Verify footer:
   - Site description text
   - Social icons (GitHub, Twitter/X, LinkedIn, RSS)
   - Teal glow-line separator
   - Copyright with current year
5. Click "A propos" / "About" -- navigates to about page, "About" link becomes active
6. Click "FR" in language toggle -- URL changes to /fr/about, nav labels switch to French
7. Click "EN" -- returns to /en/about
8. Resize browser to 375px width -- verify header and footer adapt (no overflow, no broken layout)
9. Scroll down on the index page -- verify fade-up animation triggers on the hero section
10. Visit http://localhost:4321/anything-random -- should show 404 page
  </how-to-verify>
  <resume-signal>Type "approved" if everything looks correct, or describe any issues to fix.</resume-signal>
</task>

</tasks>

<verification>
- `npx astro build` succeeds with zero errors
- All 8 pages render correctly (en/index, fr/index, en/about, fr/about, en/search, fr/search, 404, root index redirect)
- Header is sticky with backdrop blur effect
- Navigation shows active state on current page
- Language switcher preserves current page path
- Footer has social icons, glow-line, and copyright
- Scroll-reveal animations fire on scroll
- Layout is responsive at 375px, 768px, and 1024px+
- 404 page renders for unknown URLs
</verification>

<success_criteria>
- Every page shows header with navigation and footer with social links
- Language switching works bidirectionally (EN <-> FR) on all page types
- Navigation active states correctly highlight the current page
- Fade-up scroll-reveal animations work on page sections
- 404 page catches unmatched routes
- Layout works on mobile (375px) through desktop
- User approves visual verification
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-03-SUMMARY.md`
</output>
