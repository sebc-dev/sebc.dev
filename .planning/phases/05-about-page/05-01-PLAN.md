---
phase: 05-about-page
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/i18n/ui.ts
  - src/layouts/ArticleLayout.astro
  - src/components/about/PillarBlock.astro
autonomous: true

must_haves:
  truths:
    - "User can click a pillar block on the About page and see filtered articles on the search page"
    - "About page i18n keys exist in both EN and FR for hero (philosophy + bio), pillar blocks, and CTA"
    - "PillarBlock component renders a clickable card linking to /{lang}/search?tags={pillarTag}"
    - "Search page filters articles by pillar tag when URL contains ?tags={pillarTag} (e.g., ?tags=IA)"
  artifacts:
    - path: "src/i18n/ui.ts"
      provides: "about.* translation keys for hero, pillar blocks, and CTA"
      contains: "about.hero"
    - path: "src/layouts/ArticleLayout.astro"
      provides: "Pagefind pillar tag filter meta tags in the 'tag' namespace so search page ?tags= param works"
      contains: "pillarTags"
    - path: "src/components/about/PillarBlock.astro"
      provides: "Reusable pillar block card component"
      contains: "data-pagefind-ignore"
  key_links:
    - from: "src/components/about/PillarBlock.astro"
      to: "src/lib/pillarTags.ts"
      via: "import getPillarColorClass"
      pattern: "getPillarColorClass"
    - from: "src/layouts/ArticleLayout.astro"
      to: "Pagefind index"
      via: "data-pagefind-filter meta tags for pillarTags in same 'tag' namespace as regular tags"
      pattern: "data-pagefind-filter.*tag.*pillar"
    - from: "Search page JS"
      to: "Pagefind filter API"
      via: "state.tags from ?tags= URL param applied as pfFilters.tag = { any: state.tags }"
      pattern: "pfFilters.tag"
---

<objective>
Add About page foundation: i18n translation keys, Pagefind pillar tag indexing, and PillarBlock component.

Purpose: Provide the i18n strings, search integration, and reusable component needed for the About page build. The pillar tag indexing in ArticleLayout is critical -- ArticleLayout renders each article page, and Pagefind indexes those pages at build time. By adding `data-pagefind-filter="tag[content]"` meta tags for pillar tags (alongside existing regular tags), pillar tags enter Pagefind's "tag" filter namespace. The search page already reads `?tags=` from URL params and applies them as `pfFilters.tag = { any: state.tags }` (search.astro line 1176). Without this indexing, pillar block links on About would lead to zero search results.
Output: Updated i18n/ui.ts, updated ArticleLayout.astro with pillar tag Pagefind filters, new PillarBlock.astro component.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-about-page/05-CONTEXT.md
@.planning/phases/05-about-page/05-RESEARCH.md

@src/i18n/ui.ts
@src/layouts/ArticleLayout.astro
@src/lib/pillarTags.ts
@src/components/layout/Footer.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add About page i18n keys and Pagefind pillar tag indexing</name>
  <files>src/i18n/ui.ts, src/layouts/ArticleLayout.astro</files>
  <action>
**1. Add i18n keys to `src/i18n/ui.ts`:**

Add the following keys to BOTH `en` and `fr` objects. All text values are PLACEHOLDERS (user will replace with real content later per locked decision "Le texte sera fourni par l'utilisateur").

EN keys to add:
```
"about.description": "About the author and blog philosophy",
"about.hero.tagline": "[Placeholder: Learn in public tagline]",
"about.hero.intro": "[Placeholder: Short intro about learn in public philosophy at the intersection of AI x Engineering x UX]",
"about.hero.bio": "[Placeholder: Short bio - who you are, background]",
"about.pillar.ia.title": "AI",
"about.pillar.ia.description": "[Placeholder: Short description of AI pillar focus]",
"about.pillar.engineering.title": "Engineering",
"about.pillar.engineering.description": "[Placeholder: Short description of Engineering pillar focus]",
"about.pillar.ux.title": "UX",
"about.pillar.ux.description": "[Placeholder: Short description of UX pillar focus]",
"about.cta": "Discover my articles",
"about.photo.alt": "Profile photo"
```

FR keys to add:
```
"about.description": "A propos de l'auteur et philosophie du blog",
"about.hero.tagline": "[Placeholder: Accroche learn in public]",
"about.hero.intro": "[Placeholder: Courte intro sur la philosophie learn in public a l'intersection IA x Ingenierie x UX]",
"about.hero.bio": "[Placeholder: Courte bio - qui vous etes, parcours]",
"about.pillar.ia.title": "IA",
"about.pillar.ia.description": "[Placeholder: Courte description du pilier IA]",
"about.pillar.engineering.title": "Ingenierie",
"about.pillar.engineering.description": "[Placeholder: Courte description du pilier Ingenierie]",
"about.pillar.ux.title": "UX",
"about.pillar.ux.description": "[Placeholder: Courte description du pilier UX]",
"about.cta": "Decouvrir mes articles",
"about.photo.alt": "Photo de profil"
```

**2. Add pillar tag Pagefind indexing to `src/layouts/ArticleLayout.astro`:**

In ArticleLayout.astro, right after the existing `article.data.tags.map(...)` block that generates `data-pagefind-filter="tag[content]"` meta tags, add the same pattern for pillar tags:

```astro
{
  article.data.pillarTags.map((pillar) => (
    <meta data-pagefind-filter="tag[content]" content={pillar} />
  ))
}
```

This indexes pillar tags into the SAME "tag" filter namespace as regular tags. This is the simplest approach -- it makes pillar tags appear in the search sidebar Tags section and work with `?tags=IA` URL params. No search page JS changes needed (per RESEARCH.md recommendation).

Place this IMMEDIATELY after the existing tags mapping (around line 60), before the Pagefind metadata section.
  </action>
  <verify>
1. `npm run typecheck` — confirms no type errors from new i18n keys and ArticleLayout changes
2. `npx vitest run` — confirms existing tests pass (no regressions)
3. `grep -c 'about\.hero' src/i18n/ui.ts` — returns 2+ (keys exist in both EN and FR objects)
4. `grep -A 2 'pillarTags.*map' src/layouts/ArticleLayout.astro` — shows `data-pagefind-filter="tag[content]"` meta tag generation for pillar tags
  </verify>
  <done>
i18n/ui.ts has `about.*` keys in both EN and FR. ArticleLayout.astro generates `data-pagefind-filter="tag[content]"` meta tags for pillarTags alongside regular tags.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create PillarBlock component</name>
  <files>src/components/about/PillarBlock.astro</files>
  <action>
Create `src/components/about/PillarBlock.astro` -- a reusable clickable card representing one pillar (IA, Ingenierie, UX).

**Props interface:**
```typescript
interface Props {
  pillar: "IA" | "Ingenierie" | "UX";  // Note: use display name, not accented PillarType
  title: string;
  description: string;
  lang: string;
  icon: string;  // Raw SVG inner content (path elements)
}
```

**Component structure:**
- An `<a>` tag linking to `/${lang}/search?tags=${encodeURIComponent(pillarLabel)}` where `pillarLabel` is the actual pillar tag value:
  - "IA" for IA
  - "Ingenierie" maps to `"Ingénierie"` (the accented version from the content schema)
  - "UX" for UX
  - Use a mapping in the component: `const pillarTagMap = { IA: "IA", Ingenierie: "Ingénierie", UX: "UX" };`
- Card styling: `block p-6 rounded-xs border border-border bg-surface hover:border-teal/30 hover:shadow-[0_0_16px_var(--color-teal-glow)] transition-all duration-300 group`
- Icon container at top: `w-12 h-12 rounded-xs flex items-center justify-center mb-4` with pillar-specific colors from `getPillarColorClass()`. The icon SVG should be 24x24, stroke-based (stroke="currentColor", stroke-width="2", stroke-linecap="round", stroke-linejoin="round"), with `fill="none"`. The icon container inherits the pillar's text color class.
- Title: `text-lg font-semibold text-text-primary mb-2 group-hover:text-teal-bright transition-colors`
- Description: `text-sm text-text-secondary leading-relaxed`

**Pillar icon SVGs (Claude's discretion -- Lucide-style icons):**

IA (Brain icon):
```
<path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"/><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"/><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"/><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"/><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"/><path d="M3.477 10.896a4 4 0 0 1 .585-.396"/><path d="M19.938 10.5a4 4 0 0 1 .585.396"/><path d="M6 18a4 4 0 0 1-1.967-.516"/><path d="M19.967 17.484A4 4 0 0 1 18 18"/>
```

Ingenierie (Code icon):
```
<path d="m18 16 4-4-4-4"/><path d="m6 8-4 4 4 4"/><path d="m14.5 4-5 16"/>
```

UX (Layout icon):
```
<rect width="18" height="18" x="3" y="3" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/>
```

These icon paths will be passed as the `icon` prop from the About page.

**Important:** The component should NOT have `data-pagefind-body` or any Pagefind attributes. Add nothing Pagefind-related.
  </action>
  <verify>
Run `npm run typecheck` to confirm the component has no type errors. Visually inspect the file to confirm it has the correct props interface, pillar tag mapping with accent, link construction with encodeURIComponent, and hover styles.
  </verify>
  <done>
PillarBlock.astro exists at `src/components/about/PillarBlock.astro` with correct Props, pillar-to-accented-tag mapping, link to search with encoded pillar tag, pillar color classes via getPillarColorClass, hover glow effect, and icon rendering.
  </done>
</task>

</tasks>

<verification>
1. `npm run typecheck` passes with zero errors
2. `npx vitest run` passes (no regressions)
3. `src/i18n/ui.ts` contains `about.description`, `about.hero.tagline`, `about.hero.intro`, `about.hero.bio`, `about.pillar.ia.title`, `about.pillar.ia.description`, `about.pillar.engineering.title`, `about.pillar.engineering.description`, `about.pillar.ux.title`, `about.pillar.ux.description`, `about.cta`, `about.photo.alt` in both EN and FR
4. `src/layouts/ArticleLayout.astro` has `pillarTags.map` generating `data-pagefind-filter="tag[content]"` meta tags
5. `src/components/about/PillarBlock.astro` exists with Props interface including pillar, title, description, lang, icon
</verification>

<success_criteria>
- All about.* i18n keys present in both EN and FR
- Pillar tags indexed by Pagefind as "tag" filters alongside regular tags
- PillarBlock component renders a clickable card linking to search pre-filtered by pillar tag
- typecheck and tests pass
</success_criteria>

<output>
After completion, create `.planning/phases/05-about-page/05-01-SUMMARY.md`
</output>
